# ===========================================
# PAYMENT SERVICE - ENVIRONMENT CONFIGURATION
# ===========================================
# Copy this file to .env and update the values for your environment

# ===========================================
# SERVICE CONFIGURATION
# ===========================================
NODE_ENV=development
PORT=3004
SERVICE_NAME=payment-service

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# PostgreSQL Database for Payment Service
DATABASE_URL=postgresql://payment_user:payment_password_123@localhost:5435/rental_payment
POSTGRES_HOST=localhost
POSTGRES_PORT=5435
POSTGRES_DB=rental_payment
POSTGRES_USER=payment_user
POSTGRES_PASSWORD=payment_password_123

# ===========================================
# REDIS CONFIGURATION
# ===========================================
# Redis for payment session management
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password_123
REDIS_DB=3

# ===========================================
# PAYMENT GATEWAY CONFIGURATION
# ===========================================
# Stripe Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret
STRIPE_WEBHOOK_ENDPOINT_SECRET=whsec_your_endpoint_secret

# PayPal Configuration (Alternative)
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_MODE=sandbox

# ===========================================
# EXTERNAL SERVICES
# ===========================================
# Auth Service for user verification
AUTH_SERVICE_URL=http://localhost:3001

# Booking Service for booking verification
BOOKING_SERVICE_URL=http://localhost:3003

# Notification Service for payment notifications
NOTIFICATION_SERVICE_URL=http://localhost:3005

# ===========================================
# BUSINESS LOGIC CONFIGURATION
# ===========================================
# Payment processing configuration
PAYMENT_TIMEOUT_MINUTES=15
REFUND_PROCESSING_DAYS=3
PAYMENT_RETRY_ATTEMPTS=3

# Fee configuration
PLATFORM_FEE_PERCENTAGE=5
PROCESSING_FEE_PERCENTAGE=2.9
PROCESSING_FEE_FIXED=0.30

# Currency configuration
DEFAULT_CURRENCY=USD
SUPPORTED_CURRENCIES=USD,EUR,GBP,VND

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# Encryption for sensitive payment data
PAYMENT_ENCRYPTION_KEY=your_payment_encryption_key_32_chars
PCI_COMPLIANCE_MODE=true

# ===========================================
# API CONFIGURATION
# ===========================================
API_GATEWAY_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:3000,http://localhost:19006

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=combined
PAYMENT_LOG_LEVEL=debug

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
RATE_LIMIT_PAYMENT_MAX_REQUESTS=5
RATE_LIMIT_PAYMENT_WINDOW_MS=300000
