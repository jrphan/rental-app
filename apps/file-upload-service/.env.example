# ===========================================
# FILE UPLOAD SERVICE - ENVIRONMENT CONFIGURATION
# ===========================================
# Copy this file to .env and update the values for your environment

# ===========================================
# SERVICE CONFIGURATION
# ===========================================
NODE_ENV=development
PORT=3008
SERVICE_NAME=file-upload-service

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# MongoDB Database for File Upload Service
MONGO_HOST=localhost
MONGO_PORT=27017
MONGO_DB=rental_files
MONGO_USERNAME=admin
MONGO_PASSWORD=mongodb_password_123
MONGO_CONNECTION_STRING=mongodb://admin:mongodb_password_123@localhost:27017/rental_files

# ===========================================
# FILE STORAGE CONFIGURATION
# ===========================================
# MinIO Configuration
MINIO_ACCESS_KEY=admin
MINIO_SECRET_KEY=minio_password_123
MINIO_ENDPOINT=http://localhost:9000
MINIO_CONSOLE_ENDPOINT=http://localhost:9001
MINIO_BUCKET_NAME=rental-files
MINIO_REGION=us-east-1

# Alternative: AWS S3 Configuration
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_REGION=us-east-1
AWS_S3_BUCKET=rental-files

# ===========================================
# FILE PROCESSING CONFIGURATION
# ===========================================
# Image processing settings
ENABLE_IMAGE_PROCESSING=true
IMAGE_PROCESSING_QUALITY=85
IMAGE_THUMBNAIL_SIZES=150x150,300x300,600x600
IMAGE_MAX_WIDTH=2048
IMAGE_MAX_HEIGHT=2048

# File size limits (in bytes)
MAX_FILE_SIZE=10485760
MAX_IMAGE_SIZE=5242880
MAX_DOCUMENT_SIZE=10485760

# Allowed file types
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,webp,gif
ALLOWED_DOCUMENT_TYPES=pdf,doc,docx,txt
ALLOWED_VIDEO_TYPES=mp4,avi,mov

# ===========================================
# SECURITY CONFIGURATION
# ===========================================
# File upload security
ENABLE_VIRUS_SCANNING=true
VIRUS_SCAN_API_KEY=your_virus_scan_api_key
ENABLE_FILE_ENCRYPTION=true
FILE_ENCRYPTION_KEY=your_file_encryption_key_32_chars

# Access control
PRESIGNED_URL_EXPIRY_SECONDS=3600
FILE_ACCESS_TOKEN_EXPIRY_HOURS=24

# ===========================================
# EXTERNAL SERVICES
# ===========================================
# Auth Service for user verification
AUTH_SERVICE_URL=http://localhost:3001

# CDN Configuration
CDN_URL=https://cdn.rental.com
ENABLE_CDN=true

# ===========================================
# BUSINESS LOGIC CONFIGURATION
# ===========================================
# File retention policies
FILE_RETENTION_DAYS=365
TEMP_FILE_CLEANUP_HOURS=24
ORPHANED_FILE_CLEANUP_DAYS=7

# File organization
FILE_PATH_PREFIX=/uploads
ENABLE_FILE_VERSIONING=true
MAX_FILE_VERSIONS=5

# ===========================================
# API CONFIGURATION
# ===========================================
API_GATEWAY_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:3000,http://localhost:19006

# Upload endpoints
UPLOAD_CHUNK_SIZE=1048576
MULTIPART_UPLOAD_THRESHOLD=5242880

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=combined
FILE_LOG_LEVEL=debug

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_FILE_UPLOAD_MAX_REQUESTS=10
RATE_LIMIT_FILE_UPLOAD_WINDOW_MS=3600000
