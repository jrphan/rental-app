# ===========================================
# REVIEW SERVICE - ENVIRONMENT CONFIGURATION
# ===========================================
# Copy this file to .env and update the values for your environment

# ===========================================
# SERVICE CONFIGURATION
# ===========================================
NODE_ENV=development
PORT=3007
SERVICE_NAME=review-service

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# PostgreSQL Database for Review Service
DATABASE_URL=postgresql://review_user:review_password_123@localhost:5436/rental_review
POSTGRES_HOST=localhost
POSTGRES_PORT=5436
POSTGRES_DB=rental_review
POSTGRES_USER=review_user
POSTGRES_PASSWORD=review_password_123

# ===========================================
# REDIS CONFIGURATION
# ===========================================
# Redis for review caching and moderation queue
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password_123
REDIS_DB=6

# ===========================================
# EXTERNAL SERVICES
# ===========================================
# Auth Service for user verification
AUTH_SERVICE_URL=http://localhost:3001

# Vehicle Service for vehicle information
VEHICLE_SERVICE_URL=http://localhost:3002

# Booking Service for booking verification
BOOKING_SERVICE_URL=http://localhost:3003

# Notification Service for review notifications
NOTIFICATION_SERVICE_URL=http://localhost:3005

# ===========================================
# REVIEW CONFIGURATION
# ===========================================
# Review moderation settings
ENABLE_AUTO_MODERATION=true
MODERATION_API_KEY=your_moderation_api_key
MODERATION_CONFIDENCE_THRESHOLD=0.8

# Review settings
MIN_REVIEW_LENGTH=10
MAX_REVIEW_LENGTH=1000
REVIEW_RATING_MIN=1
REVIEW_RATING_MAX=5

# Review policies
REVIEW_EDITABLE_HOURS=24
REVIEW_DELETABLE_HOURS=1
REVIEW_COOLDOWN_HOURS=24

# ===========================================
# BUSINESS LOGIC CONFIGURATION
# ===========================================
# Review aggregation settings
REVIEW_AGGREGATION_INTERVAL_HOURS=1
REVIEW_CACHE_TTL_HOURS=6

# Spam prevention
MAX_REVIEWS_PER_USER_PER_DAY=5
SUSPICIOUS_REVIEW_THRESHOLD=3

# ===========================================
# CONTENT MODERATION
# ===========================================
# Profanity filter
ENABLE_PROFANITY_FILTER=true
PROFANITY_FILTER_API_KEY=your_profanity_filter_api_key

# Sentiment analysis
ENABLE_SENTIMENT_ANALYSIS=true
SENTIMENT_API_KEY=your_sentiment_api_key

# ===========================================
# API CONFIGURATION
# ===========================================
API_GATEWAY_URL=http://localhost:3000
CORS_ORIGIN=http://localhost:3000,http://localhost:19006

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=combined
REVIEW_LOG_LEVEL=debug

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=500
RATE_LIMIT_REVIEW_SUBMISSION_MAX_REQUESTS=3
RATE_LIMIT_REVIEW_SUBMISSION_WINDOW_MS=3600000
